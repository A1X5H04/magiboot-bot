name: Process Video for Bootanimation

on:
  workflow_dispatch:
    inputs:
      video_url:
        description: 'URL of video to process'
        required: true
      other_metadata:
        description: '[JSON] Other metadata'
        required: false

jobs:
  process:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Parse JSON input
        id: parse
        run: |
          if [ -n "${{ github.event.inputs.other_metadata }}" ]; then
            echo '${{ github.event.inputs.other_metadata }}' | jq -r '
              to_entries | .[] | "export \(.key)=\(.value)"' >> $GITHUB_ENV
          else
            echo "No other_metadata provided"
          fi
        
      - name: Output variables
        run: |
          echo ${{ github.event.inputs.video_url }}
          echo "${{ github.event.inputs.other_metadata }}"

          

